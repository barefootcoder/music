#! /usr/bin/env perl

use myperl;
use autodie qw< :all >;

use File::Next;

use Music;


my $tracks = File::Next::files({ file_filter => sub { /@ARGV/i } }, track_dirs());
say file($_)->absolute while $_ = $tracks->();


my @mixes = grep { grep { /@ARGV/i } $_->slurp } glob($TRACKLIST_DIR->file("[CRPMm]*", "*.m3u"));
if (@mixes)
{
	say '';
	say "in mixes:";
	foreach (@mixes)
	{
		say;
		print "\t";
		system(qw< grep -Pi >, "@ARGV", $_);
	}
}
